(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"1eb4":function(e,t,n){"use strict";n("dc25");var a=r(n("b0ce")),o=r(n("f5b5"));function r(e){return e&&e.__esModule?e:{default:e}}Page((0,a.default)(o.default))},"5dee":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view")},o=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o})},bddf:function(e,t,n){"use strict";n.r(t);var a=n("d114"),o=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,function(){return a[e]})}(r);t["default"]=o.a},d114:function(e,t,n){"use strict";(function(e){var a,o,r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("3d82"),c={data:function(){return{}},methods:{getUserInfo:function(t){t=t.mp.detail.userInfo;var n=e.getStorageSync("sign");e.request({url:a.apiServer+"member&m=login",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{openid:o,name:t.nickName,face:t.avatarUrl,sign:n},success:function(t){console.log(t),t=t.data,e.showToast({title:"登录成功"}),e.setStorageSync("SUID",t.data.u_id+""),e.setStorageSync("SRAND",t.data.u_random+""),e.setStorageSync("SNAME",t.data.u_name+""),e.setStorageSync("SFACE",t.data.u_face+""),1==r.backtype?e.redirectTo({url:r.backpage}):e.switchTab({url:r.backpage})},fail:function(e){console.log(e)}})}},onLoad:function(t){i.sign(this.apiServer),r=t,a=this,e.login({provider:"weixin",success:function(n){e.getUserInfo({success:function(n){console.log(JSON.stringify(n));var o=e.getStorageSync("sign");e.request({url:a.apiServer+"member&m=login",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{openid:n.userInfo.openId,name:n.userInfo.nickName,face:n.userInfo.avatarUrl,sign:o},success:function(n){console.log(JSON.stringify(n)),n=n.data,"ok"==n.status?(e.showToast({title:"登录成功"}),e.setStorageSync("SUID",n.data.u_id+""),e.setStorageSync("SRAND",n.data.u_random+""),e.setStorageSync("SNAME",n.data.u_name+""),e.setStorageSync("SFACE",n.data.u_face+""),1==t.backtype?e.redirectTo({url:t.backpage}):e.switchTab({url:t.backpage})):(console.log(JSON.stringify(n)),e.showToast({title:n.data}))},fail:function(e){console.log(e)},complete:function(){}})},fail:function(){e.showToast({title:"微信登录授权失败",icon:"none"})}})},fail:function(){e.showToast({title:"微信登录授权失败",icon:"none"})}})}};t.default=c}).call(this,n("649d")["default"])},f5b5:function(e,t,n){"use strict";n.r(t);var a=n("5dee"),o=n("bddf");for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);var i=n("2877"),c=Object(i["a"])(o["default"],a["a"],a["b"],!1,null,null,null);c.options.__file="login.vue",t["default"]=c.exports}},[["1eb4","common/runtime","common/vendor"]]]);